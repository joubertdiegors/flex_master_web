<nav class="navbar navbar-expand-lg d-none d-lg-block" style="background-color: rgb(0, 148, 64);">
    <div class="container">
        <div class="d-flex flex-column flex-lg-row align-items-center justify-content-between w-100">
            <div id="logo-container" class="d-flex flex-column align-items-center mb-2 mb-lg-0">
                <a href="{% url 'store_home' %}">
                    <img src="{{ header_logo_url }}" alt="Sacolão" class="header-logo" style="max-height: 200px;">
                </a>
            </div>
            <div class="w-100 d-flex justify-content-center mb-2 mb-lg-0">
                <form class="input-group d-flex w-100 w-lg-auto justify-content-center" action="{% url 'search_product' %}" method="GET" role="search" style="max-width: 654px;">
                    <span class="input-group-text" id="addon-wrapping"><i class="bi bi-search"></i></span>
                    <input class="form-control" type="search" name="q" placeholder="O que você procura?" aria-label="search" value="{{ search_query|default_if_none:'' }}">
                    <button class="btn btn-warning" type="submit">Procurar</button>
                </form>
            </div>
            <div class="d-flex align-items-center dropdown">
                <!-- Verificação se o usuário está autenticado -->
                {% if user.is_authenticated %}
                    <!-- Nome do usuário -->
                    <span class="mr-2 dropdown-toggle" id="userDropdown" data-bs-toggle="dropdown" aria-expanded="false" style="color: rgba(255, 255, 255, 0.744);">
                        {{ user.first_name }}
                    </span>
                    
                    <!-- Dropdown Menu -->
                    <ul class="dropdown-menu dropdown-menu-end custom-dropdown-menu" aria-labelledby="userDropdown" style="min-width: 160px;">
                        <li><a class="dropdown-item" href="#">Minha Conta</a></li>
                        <li><a class="dropdown-item" href="#">Meus Pedidos</a></li>
                        <li><a class="dropdown-item" href="#">Minha Lista</a></li>
                        <li><a class="dropdown-item" href="{% url 'logout' %}">Sair</a></li>
                    </ul>
                    
                {% else %}
                    <!-- Usuário desconectado -->
                    <a href="#" class="align-items-center justify-content-center text-decoration-none text-white" data-bs-toggle="modal" data-bs-target="#loginModal">
                        <i class="bi bi-person-circle" style="font-size: 2em;"></i>
                    </a>
                {% endif %}
            </div>
        </div>
    </div>
</nav>

{% block extra_styles %}
<style>

    /* Estilo personalizado para o dropdown menu */
    .custom-dropdown-menu {
        background-color: rgb(19, 80, 64); /* Cor do header */
        color: #fff; /* Texto branco para contraste */
    }

    /* Estilo do texto dentro do dropdown */
    .custom-dropdown-menu .dropdown-item {
        color: #fff;
        padding: 8px 16px;
    }

    /* Alterar o hover para destacar o item */
    .custom-dropdown-menu .dropdown-item:hover {
        background-color: rgb(30, 100, 80); /* Cor de hover mais escura */
    }

</style>
{% endblock %}